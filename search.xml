<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>VisionFive2开发板启动</title>
      <link href="/2023/05/03/visionfive2-kai-fa-ban-qi-dong/"/>
      <url>/2023/05/03/visionfive2-kai-fa-ban-qi-dong/</url>
      
        <content type="html"><![CDATA[<h1 id="VisionFive2-开发板启动"><a href="#VisionFive2-开发板启动" class="headerlink" title="VisionFive2 开发板启动"></a>VisionFive2 开发板启动</h1><h2 id="内核更新"><a href="#内核更新" class="headerlink" title="内核更新"></a>内核更新</h2><h3 id="1-挂载sd卡："><a href="#1-挂载sd卡：" class="headerlink" title="1.挂载sd卡："></a>1.挂载sd卡：</h3><p>​1.在工作的ubuntu系统下列出设备:</p><pre class=" language-shell"><code class="language-shell">fdisk -l</code></pre><p><img src="D:\Note\Java数据结构与算法\笔记\图片\image-20230503141549188.png" alt="image-20230503141549188"></p><p>​2.将文件系统进行挂载，需要挂载两部分，如下：</p><pre class=" language-shell"><code class="language-shell">mount /dev/sdb2 /media/mao/root/boot/mount /dev/sdb3 /media/mao/root/usr/</code></pre><p>​3.将制作好的内核文件和启动文件分别拷贝至对应文件夹下：</p><pre class=" language-shell"><code class="language-shell"># 对于启动文件cp /home/mao/tmp/vmlinuz-5.15.0-starfive /media/mao/root/boot/boot/ && synccp /home/mao/tmp/config-5.15.0-starfive /media/mao/root/boot/boot/ && synccp /home/mao/tmp/System.map-5.15.0-starfive /media/mao/root/boot/boot/ && sync# 对于内核镜像cp /home/mao/tmp/linux-image-5.15.0-starfive_5.15.0-starfive-1_riscv64.deb /media/mao/root/usr/ && synccp /home/mao/tmp/linux-libc-dev_5.15.0-starfive-1_riscv64.deb /media/mao/root/usr/ && synccp /home/mao/tmp/linux-headers-5.15.0-starfive_5.15.0-starfive-1_riscv64.deb /media/mao/root/usr/ && sync</code></pre><h3 id="2-使用sd卡启动开发板："><a href="#2-使用sd卡启动开发板：" class="headerlink" title="2.使用sd卡启动开发板："></a>2.使用sd卡启动开发板：</h3><p>在完成上述操作后启动开发板会进入紧急模式，输入root下的密码即可登录</p><p>​1.登录后在 <code>/</code> 目录下能够看到拷贝完成的三个内核文件，然后执行以下命令，<strong>注意要按照顺序执行</strong>：</p><pre class=" language-shell"><code class="language-shell">dpkg -i linux-headers-5.15.0-starfive_5.15.0-starfive-1_riscv64.debdpkg -i linux-libc-dev_5.15.0-starfive-1_riscv64.debdpkg -i linux-image-5.15.0-starfive_5.15.0-starfive-1_riscv64.deb</code></pre><p>​2.重启系统后应该是能够进入正常的登录界面就可以了。</p><h2 id="磁盘无损扩展"><a href="#磁盘无损扩展" class="headerlink" title="磁盘无损扩展"></a>磁盘无损扩展</h2><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>这一步是因为我的SD卡是32G的，但是下载的镜像中只有16G，并且我认为扩展现有的分区在使用的时候体验更好。</p><h3 id="使用growpart进行扩展"><a href="#使用growpart进行扩展" class="headerlink" title="使用growpart进行扩展"></a>使用<code>growpart</code>进行扩展</h3><p>1.安装<code>growpart</code></p><pre class=" language-shell"><code class="language-shell">apt install cloud-utils</code></pre><p>2.查看磁盘分区</p><pre class=" language-shell"><code class="language-shell">fdisk -l</code></pre><p><img src="D:\Note\Java数据结构与算法\笔记\图片\image-20230503144714517.png" alt="image-20230503144714517"></p><p>可以看到有这样三个分区，我要扩展的就是第三个分区</p><p>3.扩展分区</p><pre class=" language-shell"><code class="language-shell"># 扩容mmcblk1p3growpart /dev/mmcblk1 3# output# CHANGED: partition=3 start=239616 old: size=32526303 end=32765918 new: size=60827615 end=61067230# 加载文件系统并检查 4K 对齐resize2fs /dev/mmcblk1p3</code></pre><p>4.重启系统</p><h2 id=""><a href="#" class="headerlink" title=""></a></h2>]]></content>
      
      
      <categories>
          
          <category> visionfive2 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2023/05/03/hello-world/"/>
      <url>/2023/05/03/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class=" language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class=" language-bash"><code class="language-bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class=" language-bash"><code class="language-bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class=" language-bash"><code class="language-bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
